## Acceptance Criteria
- [ ] Collapsible activity panel (bottom sheet on mobile, side panel on desktop)
- [ ] Real-time stream of agent activities with icons and descriptions
- [ ] Each activity entry is tappable ‚Üí deep-links to relevant chat or output
- [ ] Filter chips: All, Errors, Completed, In Progress
- [ ] Activities update in real-time without page refresh
- [ ] All entities generated using ZFA (Zorphy) with JSON serialization
- [ ] All Clean Architecture layers generated using ZFA generate command
- [ ] State management using ZFA-generated State classes

## Task
Implement the live activity feed that shows real-time updates of what agents are doing.

### Panel Layout:

**Mobile (Bottom Sheet):**
- Pull up from bottom edge to expand
- Collapsed state shows: Activity icon + latest activity snippet + count badge
- Expanded state shows full activity list
- Handle bar at top for dragging
- Half-height by default, can expand to full screen

**Desktop (Side Panel):**
- Toggleable via button in header or keyboard shortcut
- 300-400px width
- Slides in from right
- Can be resized by dragging edge

### Activity Entry Structure:
Each activity entry displays:

1. **Icon** ‚Äî Relevant emoji or icon for activity type
   - üìß Email-related
   - üîç Research/Search
   - ‚è∞ Calendar/Scheduling
   - üíª Code-related
   - üìù Writing/Document
   - ‚ö†Ô∏è Error
   - ‚úÖ Completed
   - üîÑ In Progress

2. **Description** ‚Äî Human-readable summary
   - Format: `[Agent Name] [action] [object] ‚Äî [result/highlight]`
   - Examples:
     - "üìß Email Agent triaged 12 emails ‚Äî 3 flagged"
     - "üîç Research Agent finished 'competitor analysis' ‚Äî tap to view"
     - "‚è∞ Calendar Agent blocked focus time 2-4pm tomorrow"

3. **Timestamp** ‚Äî Relative time
   - "Just now", "2 min ago", "5 min ago"
   - For older: "Today 3:45 PM", "Yesterday"

4. **Status Indicator**
   - Pulsing dot for in-progress
   - Checkmark for completed
   - Warning icon for errors

### Activity Types & Templates:

**Email Activities:**
- `[Agent] started processing X emails`
- `[Agent] triaged X emails ‚Äî X flagged, X archived`
- `[Agent] drafted reply to [sender]`
- `[Agent] sent email to [recipient]`

**Research Activities:**
- `[Agent] started research on '[topic]'`
- `[Agent] found X sources for '[topic]'`
- `[Agent] finished '[topic]' ‚Äî tap to view summary`

**Calendar Activities:**
- `[Agent] found X available slots`
- `[Agent] blocked focus time [time range]`
- `[Agent] scheduled meeting with [person] at [time]`
- `[Agent] reminded: [event] in X minutes`

**Code Activities:**
- `[Agent] started code review`
- `[Agent] found X issues in [file]`
- `[Agent] generated code for [task]`
- `[Agent] explained [concept/function]`

**General Activities:**
- `[Agent] started task: '[task name]'`
- `[Agent] completed task: '[task name]'`
- `[Agent] encountered an error: '[error message]'`
- `[Agent] waiting for your input`

### Filter Chips:
Horizontal scrollable row of filter chips at top:
- **All** ‚Äî Shows everything (default)
- **Errors** ‚Äî Shows only errors and warnings
- **Completed** ‚Äî Shows only completed tasks
- **In Progress** ‚Äî Shows only active tasks

Active filter chip is highlighted with accent color.

### Interaction:
- Tap activity entry ‚Üí Navigate to relevant context:
  - If email-related ‚Üí Open Email Agent chat
  - If output available ‚Üí Open output viewer
  - If error ‚Üí Open error details
- Long-press activity ‚Üí Show actions:
  - "View Details"
  - "Copy Summary"
  - "Dismiss"

### Real-Time Updates:
- WebSocket or similar connection for live updates
- New activities appear at top with slide-in animation
- No pull-to-refresh needed
- Connection status indicator (if disconnected)
- Offline mode: Queue activities locally, sync when reconnected

### State Management:
- Track activity list (append-only, with max limit e.g., 100 entries)
- Track filter state
- Track panel expansion state
- Persist recent activities locally for offline viewing

### Performance:
- Virtual scrolling for long lists
- Debounce rapid updates (show count of hidden updates)
- Lazy load older activities on scroll

### Notification Integration:
- New activity triggers notification (if agent notification preference allows)
- Tapping notification opens activity feed to that entry
- Badge count on activity icon for unread entries

### Design Details:
- Activity entries have subtle alternating backgrounds
- Hover state (desktop) shows highlight
- Active/selected state for touch
- Smooth animations for new entries (slide from top)
- Stagger animation for multiple new entries

## ZFA Architecture Requirements

### Entity Definition

**Activity Entity:**
```bash
zfa entity create -n Activity --field "id:String,agentId:String,agentName:String,type:String,description:String,icon:String,status:String,deepLink:String?,timestamp:DateTime,metadata:Map<String,dynamic>?" --json
```

**ActivityType Enum:**
```bash
zfa entity enum -n ActivityType --value email,research,calendar,code,general,error,completed,in_progress
```

### Clean Architecture Generation

```bash
zfa generate Activity --methods=get,getList --data --vpc --state
```

### Implementation Notes

1. **Real-time Updates**: Use WebSocket or Server-Sent Events for live activity stream
2. **Filtering**: Use `ListQueryParams.filter` for status/type filtering
3. **Deep Links**: Store navigation path in `deepLink` field

